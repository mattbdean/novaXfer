div.container
    p.text-danger.text-center(ng-show='$ctrl.criticalError'): strong {{$ctrl.criticalError}}

    form(name='tableForm' novalidate): table.table
        tr
            th.table-header NVCC
            th.table-header(ng-repeat="institution in $ctrl.institutions track by $index")
                select.input-institution.form-control(
                    name='{{"institution" + $index}}'
                    ng-model='$ctrl.institutions[$index]'
                    ng-options='inst.acronym as inst.fullName for inst in $ctrl.availableInstitutions'
                    required
                )
            th.table-header
                button.btn.btn-default.glyphicon.glyphicon-plus(ng-click='$ctrl.addInstitution()')

        tr(ng-repeat="(rowIndex, inputCourse) in $ctrl.input track by rowIndex" ng-class="$ctrl.createRowStyleObject(tableForm, rowIndex)")
            td.course-input(ng-class='$ctrl.createInputStyleObject(tableForm, rowIndex)')
                input.form-control(
                    type='text'
                    name='{{"input" + rowIndex}}'
                    ng-model='$ctrl.input[rowIndex]'
                    ng-pattern='$ctrl.courseRegex'
                    required
                )
            td(ng-repeat="equivs in $ctrl.data[rowIndex]")
                div.equivalency-cell(ng-repeat="equiv in equivs")
                    p.text-danger(ng-show="!equiv.willTransfer") No equivalency
                    p.text-muted(ng-show="equiv.input.length") When you also take {{equiv.input}}
                    p {{equiv.output}}
